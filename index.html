<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Translate Web App</title>
    <link rel="icon" href="./logo.png" type="png">

    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;500;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-language"></i> Translate Web App</h1>
            <!-- <p>English â†” Sinhala Translation</p> -->
            <button id="settingsBtn" class="settings-btn" title="Settings">
                <i class="fas fa-cog"></i>
            </button>
        </header>

        <main>
            <div class="language-selector">
                <div class="language-box">
                    <label for="sourceLanguage">From:</label>
                    <select id="sourceLanguage">
                        <!-- Languages will be populated by script.js -->
                    </select>
                </div>
                
                <button id="swapLanguages" class="swap-btn">
                    <i class="fas fa-exchange-alt"></i>
                </button>
                
                <div class="language-box">
                    <label for="targetLanguage">To:</label>
                    <select id="targetLanguage">
                        <!-- Languages will be populated by script.js -->
                    </select>
                </div>
            </div>

            <div class="translation-area">
                <div class="input-section">
                    <div class="text-area-container">
                        <textarea id="sourceText" placeholder="Enter text to translate..." rows="8" maxlength="10000"></textarea>
                        <div id="charCounter" class="char-counter">0 / 10000</div>
                        <div class="text-controls">
                            <button id="dictateBtn" class="dictate-btn" title="Speak to Type (Dictation)">
                                <i class="fas fa-microphone"></i>
                            </button>
                            <button id="clearSource" class="clear-btn" title="Clear Text">
                                <i class="fas fa-times"></i>
                            </button>
                            <button id="speakSource" class="speak-btn" title="Speak Source Text">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <button id="aiVoiceSource" class="ai-voice-btn" title="AI Voice (ElevenLabs)">
                                <i class="fas fa-robot"></i>
                            </button>
                            <button id="uploadFileBtn" class="upload-file-btn" title="Upload PDF or TXT (Premium)">
                                <i class="fas fa-file-upload"></i>
                            </button>
                            <button id="batchTranslateBtn" class="batch-translate-btn" title="Batch Translate (Premium)">
                                <i class="fas fa-layer-group"></i> Batch
                            </button>
                        </div>
                    </div>
                </div>

                <div class="output-section">
                    <div class="text-area-container">
                        <textarea id="targetText" placeholder="Translation will appear here..." rows="8" readonly></textarea>
                        <div class="text-controls">
                            <button id="copyTranslation" class="copy-btn" title="Copy Translation">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button id="speakTarget" class="speak-btn" title="Speak Translation">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <button id="aiVoiceTarget" class="ai-voice-btn" title="AI Voice (ElevenLabs)">
                                <i class="fas fa-robot"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button id="translateBtn" class="translate-btn">
                    <i class="fas fa-language"></i>
                    Translate
                </button>
            </div>

            <div class="history-section">
                <div class="history-header">
                    <h3>Recent Translations</h3>
                    <div style="display: flex; gap: 8px;">
                        <button id="showFavoritesBtn" class="show-favorites-btn" title="Show Favorites (Premium)">
                            <i class="fas fa-star"></i> Favorites
                        </button>
                        <button id="exportHistoryBtn" class="export-history-btn" title="Export History (Premium)">
                            <i class="fas fa-file-export"></i> Export
                        </button>
                        <button id="clearHistoryBtn" class="clear-history-btn" title="Clear History">
                            <i class="fas fa-trash-alt"></i> Clear All
                        </button>
                    </div>
                </div>
                <div id="translationHistory" class="history-list">
                    <!-- Translation history will be populated here -->
                </div>
            </div>
        </main>
    </div>

    <div id="adBanner" class="ad-banner">
        <span class="ad-label">Ad</span> ðŸš€ Upgrade to Premium for an Ad-Free Experience!
    </div>

    <footer>
        <p>Developed by <strong>Janith Suraweera</strong> | <button id="aboutBtn" class="about-btn-footer">About</button></p>
    </footer>

    <!-- About Modal -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <span class="close-modal-span">&times;</span>
            <h2>About Translate Web App</h2>
            <p><strong>Version:</strong> 2.0 (Premium)</p>
            <p><strong>Developed by:</strong> Janith Suraweera</p>
            <h3>Key Features:</h3>
            <ul>
                <li>Multi-Language Support (Dozens of languages)</li>
                <li>Real-time API Translation</li>
                <li>Fully Responsive & Mobile-Optimized Design</li>
                <li>Advanced Light/Dark Theme Switcher</li>
                <li>Voice Dictation (Premium)</li>
                <li>Adjustable Text-to-Speech Voice Speed</li>
                <li>Full Translation History Management</li>
                <li>Premium Activation System</li>
            </ul>
            <button id="closeModalBtn" class="modal-close-button">Close</button>
        </div>
    </div>

    <!-- Confirmation Modal for Clearing History -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <span id="closeConfirmModal" class="close-modal-span">&times;</span>
            <h3>Confirm Action</h3>
            <p>Are you sure you want to clear all translation history? This action cannot be undone.</p>
            <div class="modal-buttons">
                <button id="cancelClearBtn" class="modal-button-secondary">Cancel</button>
                <button id="confirmClearBtn" class="modal-button-danger">Yes, Clear</button>
            </div>
        </div>
    </div>

    <!-- Settings Panel -->
    <div id="settingsPanel" class="settings-panel">
        <div class="settings-panel-header">
            <h3>Settings</h3>
        </div>
        <div class="settings-section">
            <h4>Theme</h4>
            <div class="theme-toggle-container">
                <button id="theme-toggle-btn" class="theme-toggle-btn" title="Toggle Theme">
                    <span class="sun-icon-wrapper">
                        <i class="fas fa-sun"></i>
                    </span>
                    <span class="moon-icon-wrapper">
                        <i class="fas fa-moon"></i>
                    </span>
                </button>
            </div>
        </div>
        <div class="settings-section">
            <h4>Premium Features</h4>
            <button id="unlockPremiumBtn" class="unlock-premium-btn">
                <i class="fas fa-lock-open"></i> Unlock Premium
            </button>
            <button id="logoutPremiumBtn" class="logout-premium-btn hidden">
                <i class="fas fa-sign-out-alt"></i> Logout from Premium
            </button>
        </div>
        <div class="settings-section">
            <h4>Voice speed</h4>
            <div class="voice-speed-options">
                <div class="voice-speed-option">
                    <label>
                        <input type="radio" name="voiceSpeed" value="1" checked> Normal
                    </label>
                    <button class="test-speed-btn" data-speed="1" title="Test Speed">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                <div class="voice-speed-option">
                    <label>
                        <input type="radio" name="voiceSpeed" value="0.8"> Slow
                    </label>
                    <button class="test-speed-btn" data-speed="0.8" title="Test Speed">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                <div class="voice-speed-option">
                    <label>
                        <input type="radio" name="voiceSpeed" value="0.5"> Slower
                    </label>
                    <button class="test-speed-btn" data-speed="0.5" title="Test Speed">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                <div class="voice-speed-option">
                    <label>
                        <input type="radio" name="voiceSpeed" value="1.5"> Fast
                    </label>
                    <button class="test-speed-btn" data-speed="1.5" title="Test Speed">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                <div class="voice-speed-option">
                    <label>
                        <input type="radio" name="voiceSpeed" value="2"> Faster
                    </label>
                    <button class="test-speed-btn" data-speed="2" title="Test Speed">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="settings-section">
            <h4>Custom Speed</h4>
            <div class="custom-speed-control">
                <input type="range" id="customSpeedSlider" min="0.5" max="2.5" value="1" step="0.1" title="Custom Voice Speed">
                <span id="customSpeedValue">1.0x</span>
                <button id="testCustomSpeedBtn" class="test-speed-btn" title="Test Custom Speed">
                    <i class="fas fa-play"></i>
                </button>
            </div>
        </div>
        <div class="settings-section">
            <h4>Custom Voice Settings <span class="premium-badge">Premium</span></h4>
            <div class="custom-voice-settings">
                <label for="voicePitchSlider">Pitch: <span id="voicePitchValue">1.0</span></label>
                <input type="range" id="voicePitchSlider" min="0" max="2" value="1" step="0.01">
                <label for="voiceVolumeSlider">Volume: <span id="voiceVolumeValue">1.0</span></label>
                <input type="range" id="voiceVolumeSlider" min="0" max="1" value="1" step="0.01">
                <button id="testVoiceSettingsBtn" class="test-speed-btn" title="Test Voice Settings">
                    <i class="fas fa-play"></i> Test Voice
                </button>
            </div>
        </div>
        <div class="settings-section voice-select-section hidden">
            <h4>Voice <span class="premium-badge">Premium</span></h4>
            <select id="voiceSelect" disabled>
                <option>Loading voices...</option>
            </select>
            <span class="voice-select-disabled-text">Premium only: Activate to select a custom voice</span>
        </div>
    </div>

    <!-- Activation Modal -->
    <div id="activationModal" class="modal">
        <div class="modal-content">
            <span id="closeActivationModal" class="close-modal-span">&times;</span>
            <h3>Unlock Premium Features</h3>
            <p>Enter your activation key to unlock premium features like unlimited characters and voice dictation.</p>
            <div class="activation-input-group">
                <input type="password" id="activationKeyInput" placeholder="Enter Activation Key">
                <button id="submitActivationKey" class="modal-button-primary">Activate</button>
            </div>
            <p id="activationError" class="activation-error-msg"></p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 